<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DeepSeek Chat</title>
<link href="https://gcore.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://gcore.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.min.css" rel="stylesheet">
<link href="https://gcore.jsdelivr.net/npm/highlight.js@11.8.0/styles/github.min.css" rel="stylesheet">
<link href="https://gcore.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" rel="stylesheet">
<link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>

<!-- 侧边栏 -->
<div class="sidebar">
    <div class="sidebar-header p-3 border-bottom d-flex justify-content-between align-items-center">
        <button class="btn btn-primary" onclick="newChat()">
            <i class="bi bi-plus-lg"></i> 新建对话
        </button>
        <button class="btn btn-link close-sidebar d-md-none">
            <i class="bi bi-x-lg"></i>
        </button>
    </div>
    <div id="conversation-list" class="conversation-list">
        <!-- 对话列表将在这里动态生成 -->
    </div>
</div>

<!-- 主要内容区域 -->
<div class="main-content">
    <!-- 聊天标题栏 -->
    <div class="chat-header">
        <button class="menu-toggle" id="menu-toggle">
            <i class="bi bi-list"></i>
        </button>
        <h1 class="h4 mb-0">DeepSeek Chat</h1>
        <div style="width: 40px;"></div><!-- 为了保持标题居中 -->
    </div>

    <!-- 聊天消息区域 -->
    <div id="chat-messages" class="chat-container"></div>
    <!-- 输入区域 -->
    <div class="chat-input">
        <div class="row g-2">
            <div class="col">
                <textarea id="user-input" 
                    class="form-control"
                    placeholder="输入您的问题..." 
                    rows="3"
                    onkeydown="if(event.keyCode === 13 && !event.shiftKey) { event.preventDefault(); sendMessage(); }"
                    oninput="renderContent()"></textarea>
            </div>
            <div class="col-auto d-flex align-items-end">
                <button onclick="sendMessage()" class="btn btn-primary px-4 py-2">
                    <i class="bi bi-send"></i> 发送
                </button>
            </div>
        </div>
    </div>
</div>

<!-- 引入脚本 -->
<script src="https://gcore.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" defer></script>
<script src="https://gcore.jsdelivr.net/npm/marked@9.1.2/marked.min.js" defer></script>
<script src="https://i.hllqk.cn/highlight.min.js" defer></script>
<script src="https://gcore.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" defer></script>
<script src="https://gcore.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" defer></script>
<script id="MathJax-script" src="https://gcore.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" async></script>
<script src="{{ url_for('static', filename='scripts.js') }}" defer></script>

</body>
</html> 